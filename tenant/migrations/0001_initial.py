# Generated by Django 5.0.2 on 2026-01-05 07:42

import datetime
import django.core.validators
import django.utils.timezone
import tenant.models.Notification
import uuid
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='ActivityReadStatus',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('read_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'verbose_name': 'Activity Read Status',
                'verbose_name_plural': 'Activity Read Statuses',
                'db_table': 'activity_read_status',
            },
        ),
        migrations.CreateModel(
            name='AITicketAnalysis',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('extracted_data', models.JSONField(default=dict, help_text='All extracted ticket information')),
                ('detected_intent', models.CharField(blank=True, max_length=50, null=True)),
                ('confidence_score', models.FloatField(blank=True, null=True)),
                ('suggested_priority', models.CharField(blank=True, max_length=20, null=True)),
                ('category_match', models.BooleanField(blank=True, help_text='Whether AI category matched final ticket category', null=True)),
                ('department_match', models.BooleanField(blank=True, help_text='Whether AI department matched final ticket department', null=True)),
                ('priority_match', models.BooleanField(blank=True, help_text='Whether AI priority matched final ticket priority', null=True)),
                ('processing_time_ms', models.PositiveIntegerField(blank=True, null=True)),
                ('tokens_used', models.PositiveIntegerField(blank=True, null=True)),
                ('model_used', models.CharField(blank=True, help_text='AI model used for analysis', max_length=100)),
            ],
            options={
                'verbose_name': 'AI Ticket Analysis',
                'verbose_name_plural': 'AI Ticket Analyses',
                'db_table': 'ai_ticket_analyses',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Alert',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('title', models.CharField(max_length=200)),
                ('description', models.TextField()),
                ('alert_type', models.CharField(choices=[('warranty_expiring', 'Warranty Expiring'), ('contract_expiring', 'Contract Expiring'), ('license_expiring', 'License Expiring'), ('maintenance_due', 'Maintenance Due'), ('asset_retirement', 'Asset Retirement'), ('security_patch', 'Security Patch Available'), ('compliance_issue', 'Compliance Issue'), ('assignment_overdue', 'Assignment Overdue'), ('custom', 'Custom Alert')], default='custom', max_length=20)),
                ('priority', models.CharField(choices=[('low', 'Low'), ('medium', 'Medium'), ('high', 'High'), ('critical', 'Critical')], default='medium', max_length=10)),
                ('expected_date', models.DateField(blank=True, null=True)),
                ('due_date', models.DateField(blank=True, null=True)),
                ('escalation_date', models.DateField(blank=True, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('is_acknowledged', models.BooleanField(default=False)),
                ('acknowledged_date', models.DateTimeField(blank=True, null=True)),
                ('automated_action', models.CharField(blank=True, help_text='Automated action to take (optional)', max_length=100)),
                ('email_notifications', models.BooleanField(default=True)),
                ('sms_notifications', models.BooleanField(default=False)),
                ('notification_recipients', models.JSONField(blank=True, help_text='Additional email recipients', null=True)),
                ('recurrence_pattern', models.CharField(blank=True, help_text="e.g., 'daily', 'weekly', '30_days_before'", max_length=50)),
                ('notes', models.TextField(blank=True)),
            ],
            options={
                'verbose_name': 'Alert',
                'verbose_name_plural': 'Alerts',
                'db_table': 'assets_alert',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Asset',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('asset_tag', models.CharField(blank=True, help_text='Unique asset identifier', max_length=50, null=True, unique=True)),
                ('name', models.CharField(max_length=200)),
                ('description', models.TextField(blank=True)),
                ('brand', models.CharField(blank=True, max_length=100)),
                ('model', models.CharField(blank=True, max_length=100)),
                ('serial_number', models.CharField(blank=True, max_length=100)),
                ('status', models.CharField(choices=[('available', 'Available'), ('in_use', 'In Use'), ('maintenance', 'Under Maintenance'), ('repair', 'Under Repair'), ('retired', 'Retired'), ('lost', 'Lost'), ('stolen', 'Stolen')], default='available', max_length=20)),
                ('condition', models.CharField(choices=[('excellent', 'Excellent'), ('good', 'Good'), ('fair', 'Fair'), ('poor', 'Poor'), ('damaged', 'Damaged')], default='good', max_length=20)),
                ('assigned_date', models.DateTimeField(blank=True, null=True)),
                ('location', models.CharField(blank=True, max_length=255)),
                ('purchase_price', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('purchase_date', models.DateField(blank=True, null=True)),
                ('supplier', models.CharField(blank=True, max_length=200)),
                ('invoice_number', models.CharField(blank=True, max_length=100)),
                ('warranty_start_date', models.DateField(blank=True, null=True)),
                ('warranty_end_date', models.DateField(blank=True, null=True)),
                ('last_maintenance', models.DateField(blank=True, null=True)),
                ('next_maintenance', models.DateField(blank=True, null=True)),
                ('notes', models.TextField(blank=True)),
                ('is_critical', models.BooleanField(default=False, help_text='Mark as business critical asset')),
            ],
            options={
                'verbose_name': 'Asset',
                'verbose_name_plural': 'Assets',
                'db_table': 'assets',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='AssetCategory',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('name', models.CharField(max_length=50)),
                ('description', models.TextField(blank=True)),
            ],
            options={
                'verbose_name': 'Asset Category',
                'verbose_name_plural': 'Asset Categories',
                'db_table': 'asset_categories',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='AssetDependency',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('dependency_type', models.CharField(choices=[('depends_on', 'Depends On'), ('required_by', 'Required By'), ('connects_to', 'Connects To'), ('contained_in', 'Contained In'), ('contains', 'Contains'), ('related_to', 'Related To'), ('runs_on', 'Runs On'), ('hosts', 'Hosts'), ('supports', 'Supports'), ('managed_by', 'Managed By')], default='depends_on', max_length=20)),
                ('criticality_level', models.CharField(choices=[('low', 'Low'), ('medium', 'Medium'), ('high', 'High'), ('critical', 'Critical')], default='medium', max_length=20)),
                ('description', models.TextField(blank=True)),
                ('is_active', models.BooleanField(default=True)),
            ],
            options={
                'verbose_name': 'Asset Dependency',
                'verbose_name_plural': 'Asset Dependencies',
                'db_table': 'assets_assetdependency',
            },
        ),
        migrations.CreateModel(
            name='AssetHistory',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('action', models.CharField(choices=[('created', 'Created'), ('transferred', 'Transferred'), ('maintenance', 'Maintenance'), ('repair', 'Repair'), ('retired', 'Retired'), ('status_change', 'Status Changed'), ('location_change', 'Location Changed')], max_length=20)),
                ('description', models.TextField()),
                ('old_value', models.CharField(blank=True, max_length=200)),
                ('new_value', models.CharField(blank=True, max_length=200)),
                ('timestamp', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'verbose_name': 'Asset History',
                'verbose_name_plural': 'Asset Histories',
                'db_table': 'asset_history',
                'ordering': ['-timestamp'],
            },
        ),
        migrations.CreateModel(
            name='AssetLocation',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('name', models.CharField(max_length=100)),
                ('location_type', models.CharField(choices=[('office', 'Office'), ('datacenter', 'Data Center'), ('warehouse', 'Warehouse'), ('remote', 'Remote User'), ('cloud', 'Cloud'), ('contractor', 'Contractor')], default='office', max_length=20)),
                ('address', models.TextField(blank=True)),
                ('city', models.CharField(blank=True, max_length=100)),
                ('state', models.CharField(blank=True, max_length=100)),
                ('country', models.CharField(blank=True, max_length=100)),
                ('postal_code', models.CharField(blank=True, max_length=20)),
                ('is_active', models.BooleanField(default=True)),
                ('notes', models.TextField(blank=True)),
            ],
            options={
                'verbose_name': 'Asset Location',
                'verbose_name_plural': 'Asset Locations',
                'db_table': 'assets_assetlocation',
                'ordering': ['location_type', 'name'],
            },
        ),
        migrations.CreateModel(
            name='AssetMaintenance',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('maintenance_type', models.CharField(choices=[('preventive', 'Preventive'), ('corrective', 'Corrective'), ('emergency', 'Emergency'), ('upgrade', 'Upgrade')], max_length=20)),
                ('title', models.CharField(max_length=200)),
                ('description', models.TextField()),
                ('status', models.CharField(choices=[('scheduled', 'Scheduled'), ('in_progress', 'In Progress'), ('completed', 'Completed'), ('cancelled', 'Cancelled')], default='scheduled', max_length=20)),
                ('scheduled_date', models.DateField()),
                ('completed_date', models.DateField(blank=True, null=True)),
                ('assigned_to', models.CharField(blank=True, help_text='Technician assigned to this maintenance', max_length=200)),
                ('priority', models.CharField(choices=[('low', 'Low'), ('medium', 'Medium'), ('high', 'High'), ('urgent', 'Urgent')], default='medium', max_length=10)),
                ('estimated_cost', models.DecimalField(blank=True, decimal_places=2, help_text='Estimated cost of maintenance', max_digits=10, null=True)),
                ('actual_cost', models.DecimalField(blank=True, decimal_places=2, help_text='Actual cost incurred', max_digits=10, null=True)),
                ('cost', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('supplier', models.CharField(blank=True, max_length=200)),
                ('notes', models.TextField(blank=True)),
            ],
            options={
                'verbose_name': 'Asset Maintenance',
                'verbose_name_plural': 'Asset Maintenance Records',
                'db_table': 'asset_maintenance',
                'ordering': ['-scheduled_date'],
            },
        ),
        migrations.CreateModel(
            name='AssetTicket',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('relationship_type', models.CharField(choices=[('affected', 'Affected Asset'), ('resolved_by', 'Resolved by Asset'), ('related', 'Related Asset'), ('replaced', 'Asset Replacement'), ('upgraded', 'Asset Upgrade'), ('downgraded', 'Asset Downgrade')], default='affected', max_length=20)),
                ('impact_level', models.CharField(choices=[('unknown', 'Unknown'), ('low', 'Low'), ('medium', 'Medium'), ('high', 'High'), ('critical', 'Critical')], default='unknown', max_length=20)),
                ('notes', models.TextField(blank=True)),
            ],
            options={
                'verbose_name': 'Asset-Ticket Relationship',
                'verbose_name_plural': 'Asset-Ticket Relationships',
                'db_table': 'assets_assetticket',
            },
        ),
        migrations.CreateModel(
            name='AssetType',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('name', models.CharField(max_length=100, unique=True)),
                ('type_category', models.CharField(choices=[('hardware', 'Hardware'), ('software', 'Software'), ('digital', 'Digital Asset'), ('consumable', 'Consumable')], default='hardware', max_length=20)),
                ('description', models.TextField(blank=True)),
                ('requires_assignment', models.BooleanField(default=True)),
                ('requires_license', models.BooleanField(default=False)),
                ('has_physical_presence', models.BooleanField(default=True)),
                ('depreciation_applicable', models.BooleanField(default=True)),
            ],
            options={
                'verbose_name': 'Asset Type',
                'verbose_name_plural': 'Asset Types',
                'db_table': 'assets_assettype',
                'ordering': ['type_category', 'name'],
            },
        ),
        migrations.CreateModel(
            name='AssetUserMapping',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('role', models.CharField(choices=[('owner', 'Asset Owner'), ('user', 'Primary User'), ('administrator', 'Administrator'), ('backup', 'Backup/Secondary User'), ('shared', 'Shared Access'), ('temporary', 'Temporary Access')], default='user', max_length=20)),
                ('assigned_date', models.DateTimeField(default=django.utils.timezone.now)),
                ('expected_return_date', models.DateTimeField(blank=True, null=True)),
                ('returned_date', models.DateTimeField(blank=True, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('notes', models.TextField(blank=True)),
            ],
            options={
                'verbose_name': 'Asset Assignment',
                'verbose_name_plural': 'Asset Assignments',
                'db_table': 'assets_assetusermapping',
                'ordering': ['-assigned_date'],
            },
        ),
        migrations.CreateModel(
            name='AuditLog',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('action_type', models.CharField(choices=[('created', 'Created'), ('updated', 'Updated'), ('deleted', 'Deleted'), ('accessed', 'Accessed'), ('assigned', 'Assigned'), ('unassigned', 'Unassigned'), ('transferred', 'Transferred'), ('disposed', 'Disposed'), ('maintenance', 'Maintenance'), ('security', 'Security'), ('login', 'Login'), ('logout', 'Logout')], default='accessed', max_length=20)),
                ('model_name', models.CharField(max_length=50)),
                ('object_id', models.PositiveIntegerField(blank=True, null=True)),
                ('object_name', models.CharField(blank=True, max_length=200)),
                ('field_name', models.CharField(blank=True, max_length=100)),
                ('old_value', models.TextField(blank=True)),
                ('new_value', models.TextField(blank=True)),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True)),
                ('user_agent', models.CharField(blank=True, max_length=500)),
                ('session_id', models.CharField(blank=True, max_length=100)),
                ('api_endpoint', models.CharField(blank=True, max_length=200)),
                ('http_method', models.CharField(blank=True, max_length=10)),
                ('response_status', models.PositiveIntegerField(blank=True, null=True)),
                ('compliance_required', models.BooleanField(default=False)),
                ('risk_level', models.CharField(choices=[('low', 'Low'), ('medium', 'Medium'), ('high', 'High'), ('critical', 'Critical')], default='low', max_length=10)),
                ('notes', models.TextField(blank=True)),
                ('audit_period', models.DateField(blank=True, null=True)),
            ],
            options={
                'verbose_name': 'Audit Log',
                'verbose_name_plural': 'Audit Logs',
                'db_table': 'assets_auditlog',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='BusinessHours',
            fields=[
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('name', models.CharField(default='Default Business Hours', max_length=100)),
                ('weekday', models.IntegerField(choices=[(0, 'Monday'), (1, 'Tuesday'), (2, 'Wednesday'), (3, 'Thursday'), (4, 'Friday'), (5, 'Saturday'), (6, 'Sunday')])),
                ('start_time', models.TimeField()),
                ('end_time', models.TimeField()),
                ('is_working_day', models.BooleanField(default=True)),
                ('timezone', models.CharField(default='UTC', max_length=50)),
            ],
            options={
                'db_table': 'business_hours',
            },
        ),
        migrations.CreateModel(
            name='BusinessHoursx',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('name', models.CharField(max_length=100)),
                ('day_of_week', models.IntegerField(choices=[(0, 'Monday'), (1, 'Tuesday'), (2, 'Wednesday'), (3, 'Thursday'), (4, 'Friday'), (5, 'Saturday'), (6, 'Sunday')])),
                ('start_time', models.TimeField()),
                ('end_time', models.TimeField()),
                ('is_working_day', models.BooleanField(default=True)),
            ],
            options={
                'verbose_name': 'Business Hours',
                'verbose_name_plural': 'Business Hours',
            },
        ),
        migrations.CreateModel(
            name='ChatbotConfig',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('is_enabled', models.BooleanField(db_index=True, default=True, help_text='Enable/disable chatbot for this business')),
                ('greeting_message', models.TextField(default="Hello! I'm here to help you. How can I assist you today?", help_text='Initial greeting message shown to users')),
                ('tone', models.CharField(default='professional', help_text='Chatbot tone: professional, friendly, casual, etc.', max_length=50)),
                ('instructions', models.TextField(blank=True, help_text='Custom instructions for the AI chatbot (e.g., specific guidelines, company policies)')),
                ('agent_signature', models.CharField(blank=True, default='', help_text="Optional signature/initials to append to responses (e.g., '^AG', '~Support Team')", max_length=20)),
                ('kb_search_enabled', models.BooleanField(default=True, help_text='Enable KB-first approach (search KB before creating tickets)')),
                ('auto_categorize', models.BooleanField(default=True, help_text='Automatically categorize tickets')),
                ('auto_assign_priority', models.BooleanField(default=True, help_text='Automatically assign priority')),
                ('auto_route_department', models.BooleanField(default=True, help_text='Automatically route to department')),
                ('max_conversation_length', models.PositiveIntegerField(default=50, help_text='Maximum number of messages in a conversation before suggesting ticket creation')),
                ('response_timeout_seconds', models.PositiveIntegerField(default=30, help_text='Timeout for AI response (seconds)')),
                ('max_response_chars', models.PositiveIntegerField(default=300, help_text='Maximum characters per AI response (enforces brevity, typical range: 150-500)')),
                ('temperature', models.FloatField(default=0.7, help_text='AI temperature (0.0-2.0, lower = more deterministic)')),
                ('max_tokens', models.PositiveIntegerField(default=1000, help_text='Maximum tokens in AI response')),
            ],
            options={
                'verbose_name': 'Chatbot Configuration',
                'verbose_name_plural': 'Chatbot Configurations',
                'db_table': 'chatbot_configs',
            },
        ),
        migrations.CreateModel(
            name='ChatConversation',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('conversation_id', models.CharField(db_index=True, help_text='Unique conversation identifier', max_length=255, unique=True)),
                ('mode', models.CharField(choices=[('customer', 'Customer'), ('staff', 'Staff')], db_index=True, default='customer', max_length=20)),
                ('status', models.CharField(choices=[('active', 'Active'), ('completed', 'Completed'), ('abandoned', 'Abandoned')], db_index=True, default='active', max_length=20)),
                ('customer_name', models.CharField(blank=True, max_length=200, null=True)),
                ('customer_email', models.CharField(blank=True, db_index=True, max_length=200, null=True)),
                ('customer_phone', models.CharField(blank=True, max_length=200, null=True)),
                ('intent', models.CharField(blank=True, db_index=True, help_text='Detected intent (create_ticket, search_kb, etc.)', max_length=50, null=True)),
                ('context', models.JSONField(blank=True, default=dict, help_text='Conversation context and state')),
                ('message_count', models.PositiveIntegerField(default=0)),
                ('last_message_at', models.DateTimeField(blank=True, null=True)),
            ],
            options={
                'verbose_name': 'Chat Conversation',
                'verbose_name_plural': 'Chat Conversations',
                'db_table': 'chat_conversations',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='ChatMessage',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('role', models.CharField(choices=[('user', 'User'), ('assistant', 'Assistant'), ('system', 'System')], db_index=True, max_length=20)),
                ('content', models.TextField()),
                ('intent', models.CharField(blank=True, help_text='Detected intent for user messages', max_length=50, null=True)),
                ('confidence_score', models.FloatField(blank=True, help_text='AI confidence score', null=True)),
                ('extracted_info', models.JSONField(blank=True, default=dict, help_text='Extracted ticket information or entities')),
                ('processing_time_ms', models.PositiveIntegerField(blank=True, help_text='Time taken to process this message', null=True)),
                ('token_count', models.PositiveIntegerField(blank=True, help_text='Token count for AI responses', null=True)),
            ],
            options={
                'verbose_name': 'Chat Message',
                'verbose_name_plural': 'Chat Messages',
                'db_table': 'chat_messages',
                'ordering': ['created_at'],
            },
        ),
        migrations.CreateModel(
            name='CommentLike',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Comment Like',
                'verbose_name_plural': 'Comment Likes',
                'db_table': 'comment_likes',
            },
        ),
        migrations.CreateModel(
            name='CommentReply',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('content', models.TextField()),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_internal', models.BooleanField(default=False, help_text='Internal replies are only visible to staff')),
                ('likes_count', models.PositiveIntegerField(default=0, help_text='Number of likes for this reply')),
            ],
            options={
                'verbose_name': 'Comment Reply',
                'verbose_name_plural': 'Comment Replies',
                'db_table': 'comment_replies',
                'ordering': ['created_at'],
            },
        ),
        migrations.CreateModel(
            name='CommentReplyLike',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Comment Reply Like',
                'verbose_name_plural': 'Comment Reply Likes',
                'db_table': 'comment_reply_likes',
            },
        ),
        migrations.CreateModel(
            name='Contact',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('name', models.CharField(max_length=200)),
                ('email', models.EmailField(blank=True, max_length=254, null=True)),
                ('phone', models.CharField(blank=True, max_length=50, null=True)),
                ('notes', models.TextField(blank=True)),
                ('tags', models.JSONField(blank=True, default=list)),
                ('is_deleted', models.BooleanField(db_index=True, default=False)),
            ],
            options={
                'db_table': 'contacts',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='Contract',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('name', models.CharField(max_length=200)),
                ('contract_number', models.CharField(max_length=100, unique=True)),
                ('contract_type', models.CharField(choices=[('warranty', 'Warranty Agreement'), ('support', 'Support Contract'), ('lease', 'Lease Agreement'), ('software', 'Software License'), ('service', 'Service Agreement'), ('maintenance', 'Maintenance Contract')], default='support', max_length=20)),
                ('start_date', models.DateField()),
                ('end_date', models.DateField()),
                ('renewal_date', models.DateField(blank=True, null=True)),
                ('auto_renewal', models.BooleanField(default=False)),
                ('cost', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('currency', models.CharField(default='USD', max_length=3)),
                ('payment_terms', models.CharField(blank=True, max_length=200)),
                ('coverage', models.TextField(help_text='What this contract covers')),
                ('limitations', models.TextField(blank=True)),
                ('contact_person', models.CharField(blank=True, max_length=100)),
                ('contact_email', models.EmailField(blank=True, max_length=254)),
                ('contact_phone', models.CharField(blank=True, max_length=20)),
                ('is_active', models.BooleanField(default=True)),
                ('notifications_enabled', models.BooleanField(default=True)),
                ('notes', models.TextField(blank=True)),
            ],
            options={
                'verbose_name': 'Contract',
                'verbose_name_plural': 'Contracts',
                'db_table': 'assets_contract',
                'ordering': ['-end_date'],
            },
        ),
        migrations.CreateModel(
            name='Department',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('name', models.CharField(max_length=100)),
                ('support_email', models.CharField(blank=True, max_length=255, null=True)),
                ('slag', models.CharField(blank=True, editable=False, max_length=100)),
            ],
            options={
                'verbose_name': 'Department',
                'verbose_name_plural': 'departments',
                'db_table': 'departments',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='DepartmentEmails',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('email', models.EmailField(max_length=200, unique=True)),
                ('imap_host', models.CharField(blank=True, max_length=255, null=True, verbose_name='IMAP Host')),
                ('imap_port', models.PositiveIntegerField(blank=True, default=993, null=True, verbose_name='IMAP Port')),
                ('imap_username', models.CharField(blank=True, max_length=255, null=True, verbose_name='IMAP Username')),
                ('imap_password', models.CharField(blank=True, max_length=255, null=True, verbose_name='IMAP Password')),
                ('imap_use_ssl', models.BooleanField(blank=True, default=True, null=True, verbose_name='IMAP Use SSL')),
                ('host', models.CharField(blank=True, max_length=255, null=True, verbose_name='SMTP Host')),
                ('port', models.PositiveIntegerField(blank=True, null=True, verbose_name='SMTP Port')),
                ('username', models.CharField(blank=True, max_length=255, null=True, verbose_name='SMTP Username')),
                ('password', models.CharField(blank=True, max_length=255, null=True, verbose_name='SMTP Password')),
                ('use_tls', models.BooleanField(blank=True, default=True, null=True, verbose_name='Use TLS')),
                ('use_ssl', models.BooleanField(blank=True, default=False, null=True, verbose_name='Use SSL')),
                ('is_active', models.BooleanField(default=True, verbose_name='Is Active')),
            ],
            options={
                'verbose_name': 'Department Emails',
                'verbose_name_plural': 'department_emails',
                'db_table': 'department_emails',
                'ordering': ['-id'],
            },
        ),
        migrations.CreateModel(
            name='DepreciationRule',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('name', models.CharField(max_length=100)),
                ('description', models.TextField(blank=True)),
                ('rule_type', models.CharField(choices=[('straight_line', 'Straight Line Depreciation'), ('declining_balance', 'Declining Balance'), ('units_of_production', 'Units of Production'), ('custom', 'Custom Rate')], default='straight_line', max_length=20)),
                ('depreciation_rate', models.DecimalField(decimal_places=4, default=0.2, help_text='Percentage rate (e.g., 0.20 for 20%)', max_digits=5)),
                ('useful_life_years', models.PositiveIntegerField(default=5)),
                ('salvage_value_percentage', models.DecimalField(decimal_places=2, default=0.1, help_text='Salvage value as percentage (e.g., 0.10 for 10%)', max_digits=3, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(1)])),
                ('is_default', models.BooleanField(default=False)),
                ('is_active', models.BooleanField(default=True)),
                ('notes', models.TextField(blank=True)),
            ],
            options={
                'verbose_name': 'Depreciation Rule',
                'verbose_name_plural': 'Depreciation Rules',
                'db_table': 'assets_depreciationrule',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='DiscoveryAgent',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('name', models.CharField(max_length=100)),
                ('agent_type', models.CharField(choices=[('network_scan', 'Network Scanner'), ('software_inventory', 'Software Inventory'), ('cloud_discovery', 'Cloud Discovery'), ('active_directory', 'Active Directory'), ('manual_entry', 'Manual Entry'), ('api_integration', 'API Integration')], default='network_scan', max_length=20)),
                ('description', models.TextField(blank=True)),
                ('is_active', models.BooleanField(default=True)),
                ('last_run', models.DateTimeField(blank=True, null=True)),
                ('next_run', models.DateTimeField(blank=True, null=True)),
                ('scan_interval_hours', models.PositiveIntegerField(default=24)),
                ('ip_range', models.CharField(blank=True, help_text='IP ranges to scan (e.g., 192.168.1.0/24)', max_length=200)),
                ('credentials', models.JSONField(blank=True, help_text='Secure credentials storage', null=True)),
                ('configuration', models.JSONField(blank=True, null=True)),
                ('success_rate', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('last_success_count', models.PositiveIntegerField(default=0)),
                ('notes', models.TextField(blank=True)),
            ],
            options={
                'verbose_name': 'Discovery Agent',
                'verbose_name_plural': 'Discovery Agents',
                'db_table': 'assets_discoveryagent',
                'ordering': ['-last_run'],
            },
        ),
        migrations.CreateModel(
            name='DiscoveryResult',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('discovered_ip', models.GenericIPAddressField(blank=True, null=True)),
                ('discovered_hostname', models.CharField(blank=True, max_length=255)),
                ('discovered_mac', models.CharField(blank=True, help_text='MAC address format: XX:XX:XX:XX:XX:XX', max_length=17)),
                ('discovered_os', models.CharField(blank=True, max_length=100)),
                ('discovered_software', models.JSONField(blank=True, null=True)),
                ('raw_discovery_data', models.JSONField(blank=True, null=True)),
                ('confidence_score', models.DecimalField(decimal_places=2, default=0.5, max_digits=3, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(1)])),
                ('disposition', models.CharField(choices=[('pending', 'Pending Review'), ('matched', 'Matched to Asset'), ('new_asset', 'New Asset Created'), ('ignored', 'Ignored'), ('false_positive', 'False Positive')], default='pending', max_length=20)),
                ('review_notes', models.TextField(blank=True)),
            ],
            options={
                'verbose_name': 'Discovery Result',
                'verbose_name_plural': 'Discovery Results',
                'db_table': 'assets_discoveryresult',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Disposal',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('disposal_method', models.CharField(choices=[('donation', 'Donation'), ('recycling', 'Recycling'), ('destruction', 'Destruction'), ('sale', 'Sale'), ('transfer', 'Internal Transfer'), ('write_off', 'Write Off'), ('return_to_vendor', 'Return to Vendor')], max_length=20)),
                ('disposal_date', models.DateField(default=django.utils.timezone.now)),
                ('reason', models.TextField(help_text='Reason for disposal')),
                ('residual_value', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('disposal_cost', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('recipient', models.CharField(blank=True, help_text='Person/organization receiving the asset', max_length=200)),
                ('certificate_number', models.CharField(blank=True, max_length=100)),
                ('environmental_compliance', models.BooleanField(default=True)),
                ('notes', models.TextField(blank=True)),
            ],
            options={
                'verbose_name': 'Asset Disposal',
                'verbose_name_plural': 'Asset Disposals',
                'db_table': 'assets_disposal',
                'ordering': ['-disposal_date'],
            },
        ),
        migrations.CreateModel(
            name='EmailConfig',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('email_fetching', models.BooleanField(default=True)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='EmailMessageRecord',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('message_id', models.CharField(max_length=255, unique=True)),
                ('direction', models.CharField(choices=[('incoming', 'Incoming'), ('outgoing', 'Outgoing')], max_length=20)),
                ('subject', models.CharField(blank=True, max_length=512)),
                ('sender', models.CharField(blank=True, max_length=255)),
                ('recipient', models.CharField(blank=True, max_length=255)),
                ('raw_headers', models.JSONField(blank=True, default=dict)),
                ('raw_body', models.TextField(blank=True)),
                ('html_body', models.TextField(blank=True)),
                ('received_at', models.DateTimeField(default=django.utils.timezone.now)),
            ],
            options={
                'verbose_name': 'Email Message Record',
                'verbose_name_plural': 'Email Message Records',
                'db_table': 'email_message_records',
                'ordering': ['-received_at'],
            },
        ),
        migrations.CreateModel(
            name='EmailSettings',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('signature_greeting', models.CharField(default='Regards,', help_text="Greeting text before signature name (e.g., 'Regards,', 'Best,', 'Thanks,')", max_length=100)),
                ('signature_name', models.CharField(blank=True, help_text="Signature name (e.g., 'Support Team', 'Acme Inc Support'). Falls back to business name.", max_length=200, null=True)),
                ('include_ticket_link', models.BooleanField(default=True, help_text="Include 'View Ticket' link in email replies")),
                ('use_plain_text', models.BooleanField(default=True, help_text='Send replies as plain text (recommended for threading)')),
            ],
            options={
                'verbose_name': 'Email Settings',
                'verbose_name_plural': 'Email Settings',
                'db_table': 'email_settings',
            },
        ),
        migrations.CreateModel(
            name='EmailTemplate',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('name', models.CharField(max_length=200)),
                ('description', models.TextField(blank=True, null=True)),
                ('subject', models.CharField(max_length=255)),
                ('body', models.TextField()),
                ('is_active', models.BooleanField(default=True)),
                ('language', models.CharField(default='en', max_length=10)),
                ('type', models.CharField(blank=True, max_length=50, null=True)),
            ],
            options={
                'db_table': 'email_templates_items',
            },
        ),
        migrations.CreateModel(
            name='EmailTemplateCategory',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('name', models.CharField(max_length=200)),
            ],
            options={
                'db_table': 'email_templates',
            },
        ),
        migrations.CreateModel(
            name='EmailTicketMapping',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('message_id', models.CharField(max_length=255, unique=True)),
            ],
            options={
                'verbose_name': 'Email Ticket Mapping',
                'verbose_name_plural': 'Email Ticket Mappings',
                'db_table': 'email_ticket_mappings',
            },
        ),
        migrations.CreateModel(
            name='Holiday',
            fields=[
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('name', models.CharField(max_length=100)),
                ('date', models.DateField()),
                ('is_recurring', models.BooleanField(default=False)),
                ('description', models.TextField(blank=True)),
            ],
            options={
                'db_table': 'holidays',
            },
        ),
        migrations.CreateModel(
            name='Holidays',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('name', models.CharField(max_length=100)),
                ('date', models.DateField()),
                ('is_recurring', models.BooleanField(default=False)),
                ('description', models.TextField(blank=True, null=True)),
                ('is_active', models.BooleanField(default=True)),
            ],
            options={
                'verbose_name': 'Holiday',
                'verbose_name_plural': 'Holidays',
            },
        ),
        migrations.CreateModel(
            name='KBAnalytics',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('event_type', models.CharField(choices=[('view', 'Article View'), ('search', 'Search Query'), ('click', 'Link Click'), ('download', 'Download'), ('print', 'Print'), ('copy', 'Copy Text'), ('scroll', 'Scroll Depth'), ('time', 'Time on Page'), ('exit', 'Exit Point'), ('conversion', 'Conversion')], db_index=True, max_length=20)),
                ('event_data', models.JSONField(blank=True, default=dict, help_text='Event-specific data')),
                ('session_id', models.CharField(blank=True, db_index=True, max_length=100)),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True)),
                ('user_agent', models.TextField(blank=True)),
                ('referrer', models.URLField(blank=True)),
                ('device_type', models.CharField(blank=True, db_index=True, max_length=20)),
                ('browser', models.CharField(blank=True, max_length=50)),
                ('country', models.CharField(blank=True, db_index=True, max_length=5)),
                ('region', models.CharField(blank=True, max_length=50)),
                ('city', models.CharField(blank=True, max_length=100)),
                ('timestamp', models.DateTimeField(db_index=True, default=django.utils.timezone.now)),
                ('duration', models.PositiveIntegerField(blank=True, help_text='Duration in seconds', null=True)),
                ('date', models.DateField(auto_now_add=True, db_index=True)),
                ('hour', models.PositiveIntegerField(blank=True, db_index=True, null=True)),
            ],
            options={
                'db_table': 'kb_analytics',
                'ordering': ['-timestamp'],
            },
        ),
        migrations.CreateModel(
            name='KBArticle',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('title', models.CharField(db_index=True, max_length=500)),
                ('slug', models.SlugField(max_length=520)),
                ('content', models.TextField()),
                ('excerpt', models.TextField(blank=True)),
                ('status', models.CharField(choices=[('draft', 'Draft'), ('review', 'Under Review'), ('published', 'Published'), ('archived', 'Archived')], db_index=True, default='draft', max_length=20)),
                ('is_public', models.BooleanField(db_index=True, default=True)),
                ('is_featured', models.BooleanField(db_index=True, default=False)),
                ('is_pinned', models.BooleanField(db_index=True, default=False)),
                ('seo_title', models.CharField(blank=True, help_text='SEO title tag', max_length=60)),
                ('seo_description', models.CharField(blank=True, help_text='Meta description', max_length=160)),
                ('seo_keywords', models.CharField(blank=True, help_text='Meta keywords', max_length=200)),
                ('seo_canonical_url', models.URLField(blank=True, help_text='Canonical URL for SEO')),
                ('tags', models.JSONField(blank=True, default=list, help_text='Article tags as JSON array')),
                ('sort_order', models.IntegerField(db_index=True, default=0)),
                ('view_count', models.PositiveIntegerField(db_index=True, default=0)),
                ('like_count', models.PositiveIntegerField(default=0)),
                ('share_count', models.PositiveIntegerField(default=0)),
                ('comment_count', models.PositiveIntegerField(default=0)),
                ('helpful_count', models.PositiveIntegerField(default=0)),
                ('not_helpful_count', models.PositiveIntegerField(default=0)),
                ('reading_time', models.PositiveIntegerField(default=0, help_text='Minutes')),
                ('published_at', models.DateTimeField(blank=True, db_index=True, null=True)),
                ('scheduled_publish_at', models.DateTimeField(blank=True, db_index=True, null=True)),
                ('last_reviewed_at', models.DateTimeField(blank=True, null=True)),
                ('version', models.PositiveIntegerField(default=1)),
                ('previous_version_data', models.JSONField(blank=True, default=dict, help_text='Previous version backup')),
                ('metadata', models.JSONField(blank=True, default=dict, help_text='Custom fields, attachments, etc.')),
                ('language', models.CharField(db_index=True, default='en', max_length=10)),
                ('quality_score', models.FloatField(default=0.0, help_text='Content quality score')),
                ('seo_score', models.FloatField(default=0.0, help_text='SEO optimization score')),
                ('engagement_score', models.FloatField(default=0.0, help_text='User engagement score')),
            ],
            options={
                'db_table': 'kb_articles',
                'ordering': ['-published_at', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='KBArticleEmbedding',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('embedding', models.JSONField(help_text='Vector embedding stored as array [dim1, dim2, ...]')),
                ('embedding_model', models.CharField(default='gemini-embedding-001', max_length=100)),
                ('embedding_version', models.CharField(blank=True, help_text='Version identifier for embeddings', max_length=50)),
                ('generated_at', models.DateTimeField(auto_now_add=True)),
                ('token_count', models.PositiveIntegerField(blank=True, help_text='Token count used for embedding', null=True)),
            ],
            options={
                'verbose_name': 'KB Article Embedding',
                'verbose_name_plural': 'KB Article Embeddings',
                'db_table': 'kb_article_embeddings',
            },
        ),
        migrations.CreateModel(
            name='KBCategory',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('name', models.CharField(db_index=True, max_length=200)),
                ('slug', models.SlugField(max_length=220)),
                ('description', models.TextField(blank=True)),
                ('seo_title', models.CharField(blank=True, help_text='SEO title tag', max_length=60)),
                ('seo_description', models.CharField(blank=True, help_text='Meta description', max_length=160)),
                ('seo_keywords', models.CharField(blank=True, help_text='Meta keywords', max_length=200)),
                ('icon', models.CharField(blank=True, max_length=100)),
                ('color', models.CharField(default='#007bff', max_length=7)),
                ('sort_order', models.IntegerField(db_index=True, default=0)),
                ('is_public', models.BooleanField(db_index=True, default=True)),
                ('is_featured', models.BooleanField(db_index=True, default=False)),
                ('metadata', models.JSONField(blank=True, default=dict, help_text='Flexible metadata storage')),
                ('article_count', models.PositiveIntegerField(db_index=True, default=0)),
                ('level', models.PositiveIntegerField(db_index=True, default=0)),
                ('path', models.CharField(blank=True, db_index=True, max_length=500)),
            ],
            options={
                'db_table': 'kb_categories',
                'ordering': ['sort_order', 'name'],
            },
        ),
        migrations.CreateModel(
            name='KBInteraction',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('interaction_type', models.CharField(choices=[('comment', 'Comment'), ('rating', 'Rating'), ('helpful', 'Helpful Vote'), ('not_helpful', 'Not Helpful Vote'), ('like', 'Like'), ('bookmark', 'Bookmark'), ('share', 'Share'), ('feedback', 'General Feedback')], db_index=True, max_length=20)),
                ('content', models.TextField(blank=True, help_text='Comment text, feedback, etc.')),
                ('rating', models.PositiveIntegerField(blank=True, help_text='1-5 stars', null=True)),
                ('is_helpful', models.BooleanField(blank=True, help_text='For helpful votes', null=True)),
                ('is_approved', models.BooleanField(db_index=True, default=True)),
                ('is_public', models.BooleanField(db_index=True, default=True)),
                ('session_id', models.CharField(blank=True, db_index=True, max_length=100)),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True)),
                ('metadata', models.JSONField(blank=True, default=dict, help_text='Additional interaction data')),
            ],
            options={
                'db_table': 'kb_interactions',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='KBSettings',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('key', models.CharField(db_index=True, max_length=100, unique=True)),
                ('category', models.CharField(blank=True, db_index=True, help_text='Setting category', max_length=50)),
                ('value', models.TextField()),
                ('value_type', models.CharField(choices=[('string', 'String'), ('integer', 'Integer'), ('float', 'Float'), ('boolean', 'Boolean'), ('json', 'JSON'), ('text', 'Text'), ('url', 'URL'), ('email', 'Email'), ('color', 'Color'), ('file', 'File Path')], default='string', max_length=20)),
                ('default_value', models.TextField(blank=True, help_text='Default value')),
                ('label', models.CharField(blank=True, max_length=200)),
                ('description', models.TextField(blank=True)),
                ('help_text', models.TextField(blank=True)),
                ('is_public', models.BooleanField(default=False, help_text='Public settings can be accessed by non-admin users')),
                ('is_required', models.BooleanField(default=False)),
                ('is_editable', models.BooleanField(default=True)),
                ('validation_rules', models.JSONField(blank=True, default=dict, help_text='Validation rules (min, max, regex, etc.)')),
                ('sort_order', models.IntegerField(db_index=True, default=0)),
            ],
            options={
                'db_table': 'kb_settings',
                'ordering': ['category', 'sort_order', 'key'],
            },
        ),
        migrations.CreateModel(
            name='MailFetchLog',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('checked_at', models.DateTimeField(auto_now_add=True)),
                ('duration_ms', models.PositiveIntegerField(blank=True, null=True)),
                ('result', models.CharField(choices=[('success', 'Success'), ('warning', 'Warning'), ('error', 'Error')], max_length=20)),
                ('message_count', models.PositiveIntegerField(default=0)),
                ('new_ticket_count', models.PositiveIntegerField(default=0)),
                ('new_reply_count', models.PositiveIntegerField(default=0)),
                ('last_message_uid', models.CharField(blank=True, max_length=255)),
                ('error_message', models.TextField(blank=True)),
            ],
            options={
                'verbose_name': 'Mail Fetch Log',
                'verbose_name_plural': 'Mail Fetch Logs',
                'db_table': 'mail_fetch_logs',
                'ordering': ['-checked_at'],
            },
        ),
        migrations.CreateModel(
            name='MailIntegration',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('email_address', models.EmailField(blank=True, max_length=254, null=True)),
                ('display_name', models.CharField(blank=True, max_length=255)),
                ('provider', models.CharField(choices=[('gmail', 'Gmail'), ('office365', 'Microsoft 365'), ('custom', 'Custom Server'), ('safaridesk', 'SafariDesk Forwarding')], max_length=20)),
                ('direction', models.CharField(choices=[('incoming', 'Incoming Only'), ('outgoing', 'Outgoing Only'), ('both', 'Incoming & Outgoing')], default='both', max_length=20)),
                ('connection_status', models.CharField(choices=[('connecting', 'Connecting'), ('connected', 'Connected'), ('error', 'Error'), ('disconnected', 'Disconnected')], default='connecting', max_length=20)),
                ('connection_status_detail', models.CharField(blank=True, max_length=500)),
                ('forwarding_address', models.EmailField(blank=True, max_length=254, null=True)),
                ('forwarding_status', models.CharField(blank=True, max_length=50)),
                ('provider_metadata', models.JSONField(blank=True, default=dict)),
                ('is_active', models.BooleanField(default=True)),
                ('last_success_at', models.DateTimeField(blank=True, null=True)),
                ('last_error_at', models.DateTimeField(blank=True, null=True)),
                ('last_error_message', models.TextField(blank=True)),
                ('oauth_access_token_encrypted', models.TextField(blank=True)),
                ('oauth_refresh_token_encrypted', models.TextField(blank=True)),
                ('oauth_expires_at', models.DateTimeField(blank=True, null=True)),
                ('imap_host', models.CharField(blank=True, max_length=255)),
                ('imap_port', models.PositiveIntegerField(blank=True, null=True)),
                ('imap_use_ssl', models.BooleanField(blank=True, null=True)),
                ('imap_username_encrypted', models.TextField(blank=True)),
                ('imap_password_encrypted', models.TextField(blank=True)),
                ('smtp_host', models.CharField(blank=True, max_length=255)),
                ('smtp_port', models.PositiveIntegerField(blank=True, null=True)),
                ('smtp_use_ssl', models.BooleanField(blank=True, null=True)),
                ('smtp_use_tls', models.BooleanField(blank=True, null=True)),
                ('smtp_username_encrypted', models.TextField(blank=True)),
                ('smtp_password_encrypted', models.TextField(blank=True)),
            ],
            options={
                'verbose_name': 'Mail Integration',
                'verbose_name_plural': 'Mail Integrations',
                'db_table': 'mail_integrations',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Notification',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('message', models.TextField()),
                ('notification_type', models.CharField(choices=[('ticket_assigned', 'Ticket Assigned'), ('ticket_status_changed', 'Ticket Status Changed'), ('ticket_comment', 'Ticket Comment'), ('ticket_mention', 'Ticket Mention'), ('sla_breach', 'SLA Breach'), ('ticket_escalated', 'Ticket Escalated'), ('ticket_reopened', 'Ticket Reopened'), ('task_assigned', 'Task Assigned'), ('task_status_changed', 'Task Status Changed'), ('task_comment', 'Task Comment'), ('task_mention', 'Task Mention'), ('system_login_alert', 'System Login Alert'), ('system_announcement', 'System Announcement'), ('system_maintenance', 'System Maintenance')], default='ticket_assigned', max_length=50)),
                ('is_read', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('read_at', models.DateTimeField(blank=True, null=True)),
                ('metadata', models.JSONField(blank=True, default=dict)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='OrganizationNotificationSetting',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('delivery_channels', models.JSONField(blank=True, default=tenant.models.Notification.notification_channel_defaults)),
                ('notification_matrix', models.JSONField(blank=True, default=tenant.models.Notification.default_notification_matrix)),
                ('digest_enabled', models.BooleanField(default=True)),
                ('digest_frequency', models.CharField(choices=[('daily', 'Daily'), ('weekly', 'Weekly'), ('off', 'Off')], default='daily', max_length=20)),
                ('escalation_policy', models.JSONField(blank=True, default=tenant.models.Notification.default_escalation_policy)),
                ('webhook_url', models.URLField(blank=True, null=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Organization Notification Setting',
                'db_table': 'notification_settings',
            },
        ),
        migrations.CreateModel(
            name='PatchLevel',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('software_name', models.CharField(max_length=200)),
                ('current_version', models.CharField(blank=True, max_length=50)),
                ('latest_available_version', models.CharField(blank=True, max_length=50)),
                ('patch_status', models.CharField(choices=[('unknown', 'Unknown'), ('current', 'Current'), ('patch_available', 'Patch Available'), ('outdated', 'Outdated'), ('unsupported', 'Unsupported'), ('end_of_life', 'End of Life')], default='unknown', max_length=20)),
                ('last_check_date', models.DateTimeField(blank=True, null=True)),
                ('last_patch_date', models.DateTimeField(blank=True, null=True)),
                ('patch_source', models.CharField(blank=True, help_text='Where patches are sourced from', max_length=100)),
                ('is_critical', models.BooleanField(default=False)),
                ('auto_update_enabled', models.BooleanField(default=False)),
                ('notes', models.TextField(blank=True)),
            ],
            options={
                'verbose_name': 'Patch Level',
                'verbose_name_plural': 'Patch Levels',
                'db_table': 'assets_patchlevel',
            },
        ),
        migrations.CreateModel(
            name='Purchase',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('asset_name', models.CharField(help_text='Name of asset being purchased', max_length=200)),
                ('description', models.TextField()),
                ('quantity', models.PositiveIntegerField(default=1)),
                ('unit_cost', models.DecimalField(decimal_places=2, max_digits=10)),
                ('total_cost', models.DecimalField(decimal_places=2, max_digits=12)),
                ('currency', models.CharField(default='USD', max_length=3)),
                ('status', models.CharField(choices=[('requested', 'Requested'), ('approved', 'Approved'), ('ordered', 'Ordered'), ('received', 'Received'), ('installed', 'Installed'), ('cancelled', 'Cancelled'), ('rejected', 'Rejected')], default='requested', max_length=20)),
                ('purchase_date', models.DateField(blank=True, null=True)),
                ('delivery_date', models.DateField(blank=True, null=True)),
                ('invoice_number', models.CharField(blank=True, max_length=100)),
                ('po_number', models.CharField(blank=True, help_text='Purchase Order Number', max_length=100, unique=True)),
                ('budget_code', models.CharField(blank=True, max_length=50)),
                ('priority', models.CharField(choices=[('low', 'Low'), ('medium', 'Medium'), ('high', 'High'), ('urgent', 'Urgent')], default='medium', max_length=10)),
                ('notes', models.TextField(blank=True)),
            ],
            options={
                'verbose_name': 'Purchase',
                'verbose_name_plural': 'Purchases',
                'db_table': 'assets_purchase',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Requests',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('title', models.CharField(max_length=255)),
                ('description', models.TextField(blank=True)),
                ('type', models.CharField(choices=[('technical', 'Technical Support'), ('billing', 'Billing Inquiry'), ('feature', 'Feature Request'), ('bug', 'Bug Report'), ('improvement', 'Improvement Suggestion'), ('account', 'Account Management'), ('other', 'Other')], default='other', max_length=20)),
                ('status', models.CharField(choices=[('open', 'Open'), ('in_progress', 'In Progress'), ('closed', 'Closed'), ('on_hold', 'On Hold'), ('cancelled', 'Cancelled')], default='open', max_length=20)),
                ('creator_name', models.CharField(max_length=200)),
                ('creator_email', models.CharField(max_length=200)),
                ('creator_phone', models.CharField(max_length=200)),
                ('ref_number', models.CharField(blank=True, max_length=200, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('converted_to_ticket', models.BooleanField(default=False)),
                ('converted_to_task', models.BooleanField(default=False)),
                ('attached_to', models.CharField(blank=True, help_text='Display ID of converted ticket or task', max_length=100, null=True)),
            ],
            options={
                'db_table': 'requests',
                'ordering': ['-id'],
            },
        ),
        migrations.CreateModel(
            name='SecurityVulnerability',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('cve_id', models.CharField(blank=True, help_text='CVE identifier', max_length=20)),
                ('title', models.CharField(max_length=200)),
                ('description', models.TextField()),
                ('severity', models.CharField(choices=[('info', 'Informational'), ('low', 'Low'), ('medium', 'Medium'), ('high', 'High'), ('critical', 'Critical')], default='medium', max_length=20)),
                ('cvss_score', models.DecimalField(blank=True, decimal_places=1, max_digits=3, null=True, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(10)])),
                ('affected_component', models.CharField(blank=True, max_length=100)),
                ('detection_date', models.DateTimeField(default=django.utils.timezone.now)),
                ('published_date', models.DateField(blank=True, null=True)),
                ('patch_available', models.BooleanField(default=False)),
                ('patch_date', models.DateField(blank=True, null=True)),
                ('remediation_status', models.CharField(choices=[('open', 'Open'), ('mitigated', 'Mitigated'), ('patched', 'Patched'), ('accepted', 'Risk Accepted'), ('false_positive', 'False Positive')], default='open', max_length=20)),
                ('exploitability', models.CharField(choices=[('unknown', 'Unknown'), ('unproven', 'Unproven'), ('proof_of_concept', 'Proof of Concept'), ('functional', 'Functional Exploit'), ('high', 'High')], default='unknown', max_length=20)),
                ('remediation_deadline', models.DateField(blank=True, null=True)),
                ('remediation_notes', models.TextField(blank=True)),
            ],
            options={
                'verbose_name': 'Security Vulnerability',
                'verbose_name_plural': 'Security Vulnerabilities',
                'db_table': 'assets_securityvulnerability',
                'ordering': ['-severity', '-cvss_score'],
            },
        ),
        migrations.CreateModel(
            name='SettingSMTP',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('host', models.CharField(max_length=255, verbose_name='SMTP Host')),
                ('port', models.PositiveIntegerField(verbose_name='SMTP Port')),
                ('username', models.CharField(max_length=255, verbose_name='SMTP Username')),
                ('password', models.CharField(max_length=255, verbose_name='SMTP Password')),
                ('use_tls', models.BooleanField(default=True, verbose_name='Use TLS')),
                ('use_ssl', models.BooleanField(default=False, verbose_name='Use SSL')),
                ('default_from_email', models.EmailField(max_length=254, verbose_name='Default From Email')),
                ('sender_name', models.CharField(blank=True, max_length=255, null=True, verbose_name='Sender Name')),
                ('reply_to_email', models.EmailField(blank=True, max_length=254, null=True, verbose_name='Reply-To Email')),
            ],
            options={
                'verbose_name': 'SMTP Setting',
                'verbose_name_plural': 'SMTP Settings',
                'db_table': 'setting_smtp',
            },
        ),
        migrations.CreateModel(
            name='SLA',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('name', models.CharField(max_length=255)),
                ('description', models.TextField(blank=True, null=True)),
                ('operational_hours', models.CharField(choices=[('calendar', 'Calendar Hours (24 hrs x 7 days)'), ('business', 'Business Hours'), ('custom', 'Custom Hours')], default='calendar', max_length=20)),
                ('evaluation_method', models.CharField(choices=[('ticket_creation', 'Ticket creation time'), ('conditions_met', 'Time when conditions are met')], default='conditions_met', max_length=20)),
                ('is_active', models.BooleanField(default=True)),
            ],
            options={
                'verbose_name': 'SLA',
                'verbose_name_plural': 'SLAs',
            },
        ),
        migrations.CreateModel(
            name='SLACondition',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('condition_type', models.CharField(choices=[('priority', 'Priority'), ('category', 'Category'), ('department', 'Department'), ('customer_type', 'Customer Type'), ('tag', 'Tag'), ('custom_field', 'Custom Field')], max_length=50)),
                ('operator', models.CharField(choices=[('equals', 'Equals'), ('not_equals', 'Not Equals'), ('contains', 'Contains'), ('not_contains', 'Does Not Contain'), ('starts_with', 'Starts With'), ('ends_with', 'Ends With')], default='equals', max_length=20)),
                ('value', models.CharField(max_length=255)),
                ('is_active', models.BooleanField(default=True)),
            ],
            options={
                'verbose_name': 'SLA Condition',
                'verbose_name_plural': 'SLA Conditions',
            },
        ),
        migrations.CreateModel(
            name='SLAEscalation',
            fields=[
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('escalation_type', models.CharField(choices=[('warning', 'Warning'), ('escalation', 'Escalation'), ('breach', 'Breach')], max_length=20)),
                ('trigger_percentage', models.PositiveIntegerField(help_text='Percentage of SLA time when escalation triggers (e.g., 80)')),
                ('notify_agent', models.BooleanField(default=True)),
                ('notify_supervisor', models.BooleanField(default=False)),
                ('notify_manager', models.BooleanField(default=False)),
                ('escalation_emails', models.TextField(blank=True, help_text='Comma-separated email addresses')),
                ('email_subject', models.CharField(max_length=200)),
                ('email_body', models.TextField()),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'db_table': 'sla_escalations',
            },
        ),
        migrations.CreateModel(
            name='SLAEscalationLog',
            fields=[
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('escalated_at', models.DateTimeField(auto_now_add=True)),
                ('email_sent', models.BooleanField(default=False)),
                ('recipients', models.TextField()),
            ],
            options={
                'db_table': 'sla_escalation_logs',
            },
        ),
        migrations.CreateModel(
            name='SLAEscalations',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('escalation_type', models.CharField(choices=[('first_response', 'First Response Escalation'), ('next_response', 'Next Response Escalation'), ('resolution', 'Resolution Escalation')], max_length=20)),
                ('level', models.PositiveIntegerField(default=1, validators=[django.core.validators.MinValueValidator(1)])),
                ('trigger_time', models.PositiveIntegerField(validators=[django.core.validators.MinValueValidator(1)])),
                ('trigger_unit', models.CharField(choices=[('minutes', 'Minutes'), ('hours', 'Hours'), ('days', 'Days')], default='minutes', max_length=10)),
                ('reminder_time', models.PositiveIntegerField(blank=True, null=True, validators=[django.core.validators.MinValueValidator(1)])),
                ('reminder_unit', models.CharField(blank=True, choices=[('minutes', 'Minutes'), ('hours', 'Hours'), ('days', 'Days')], default='minutes', max_length=10)),
                ('email_subject', models.CharField(blank=True, max_length=255, null=True)),
                ('email_body', models.TextField(blank=True, null=True)),
                ('is_active', models.BooleanField(default=True)),
            ],
            options={
                'verbose_name': 'SLA Escalation',
                'verbose_name_plural': 'SLA Escalations',
                'ordering': ['escalation_type', 'level'],
            },
        ),
        migrations.CreateModel(
            name='SLAPolicy',
            fields=[
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('name', models.CharField(max_length=100)),
                ('description', models.TextField(blank=True)),
                ('priority', models.CharField(choices=[('critical', 'Critical'), ('high', 'High'), ('medium', 'Medium'), ('low', 'Low')], max_length=20)),
                ('customer_tier', models.CharField(choices=[('premium', 'Premium'), ('standard', 'Standard'), ('basic', 'Basic')], default='standard', max_length=20)),
                ('first_response_time', models.PositiveIntegerField(help_text='Minutes for first response')),
                ('resolution_time', models.PositiveIntegerField(help_text='Minutes for resolution')),
                ('business_hours_only', models.BooleanField(default=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'db_table': 'sla_policies',
            },
        ),
        migrations.CreateModel(
            name='SLAReminder',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('reminder_type', models.CharField(choices=[('first_response', 'First Response Reminder'), ('next_response', 'Next Response Reminder'), ('resolution', 'Resolution Reminder')], max_length=20)),
                ('time_before', models.PositiveIntegerField(validators=[django.core.validators.MinValueValidator(1)])),
                ('time_unit', models.CharField(choices=[('minutes', 'Minutes'), ('hours', 'Hours'), ('days', 'Days')], default='minutes', max_length=10)),
                ('is_active', models.BooleanField(default=True)),
            ],
            options={
                'verbose_name': 'SLA Reminder',
                'verbose_name_plural': 'SLA Reminders',
            },
        ),
        migrations.CreateModel(
            name='SLATarget',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('priority', models.CharField(choices=[('urgent', 'Urgent'), ('high', 'High'), ('medium', 'Medium'), ('low', 'Low')], max_length=20)),
                ('first_response_time', models.PositiveIntegerField(validators=[django.core.validators.MinValueValidator(1)])),
                ('first_response_unit', models.CharField(choices=[('minutes', 'Minutes'), ('hours', 'Hours'), ('days', 'Days'), ('weeks', 'Weeks')], default='hours', max_length=10)),
                ('next_response_time', models.PositiveIntegerField(blank=True, null=True, validators=[django.core.validators.MinValueValidator(1)])),
                ('next_response_unit', models.CharField(blank=True, choices=[('minutes', 'Minutes'), ('hours', 'Hours'), ('days', 'Days'), ('weeks', 'Weeks')], default='hours', max_length=10)),
                ('resolution_time', models.PositiveIntegerField(validators=[django.core.validators.MinValueValidator(1)])),
                ('resolution_unit', models.CharField(choices=[('minutes', 'Minutes'), ('hours', 'Hours'), ('days', 'Days'), ('weeks', 'Weeks')], default='days', max_length=10)),
                ('operational_hours', models.CharField(choices=[('calendar', 'Calendar Hours (24 hrs x 7 days)'), ('business', 'Business Hours'), ('custom', 'Custom Hours')], default='calendar', max_length=20)),
                ('reminder_enabled', models.BooleanField(default=False)),
                ('escalation_enabled', models.BooleanField(default=False)),
            ],
            options={
                'verbose_name': 'SLA Target',
                'verbose_name_plural': 'SLA Targets',
            },
        ),
        migrations.CreateModel(
            name='SLATracker',
            fields=[
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('first_response_due', models.DateTimeField()),
                ('first_response_completed', models.DateTimeField(blank=True, null=True)),
                ('first_response_status', models.CharField(choices=[('within_sla', 'Within SLA'), ('approaching_breach', 'Approaching Breach'), ('breached', 'Breached'), ('paused', 'Paused'), ('resolved', 'Resolved')], default='within_sla', max_length=20)),
                ('resolution_due', models.DateTimeField()),
                ('resolution_completed', models.DateTimeField(blank=True, null=True)),
                ('resolution_status', models.CharField(choices=[('within_sla', 'Within SLA'), ('approaching_breach', 'Approaching Breach'), ('breached', 'Breached'), ('paused', 'Paused'), ('resolved', 'Resolved')], default='within_sla', max_length=20)),
                ('total_paused_time', models.DurationField(default=datetime.timedelta(0))),
                ('is_paused', models.BooleanField(default=False)),
                ('paused_at', models.DateTimeField(blank=True, null=True)),
                ('pause_reason', models.TextField(blank=True)),
                ('first_response_breach_time', models.DateTimeField(blank=True, null=True)),
                ('resolution_breach_time', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'db_table': 'sla_trackers',
            },
        ),
        migrations.CreateModel(
            name='SLAViolation',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('violation_type', models.CharField(choices=[('first_response', 'First Response Breach'), ('next_response', 'Next Response Breach'), ('resolution', 'Resolution Breach')], max_length=20)),
                ('target_time', models.DateTimeField()),
                ('actual_time', models.DateTimeField(blank=True, null=True)),
                ('breach_time', models.DateTimeField()),
                ('is_resolved', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'verbose_name': 'SLA Violation',
                'verbose_name_plural': 'SLA Violations',
            },
        ),
        migrations.CreateModel(
            name='SoftwareLicense',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('name', models.CharField(max_length=200)),
                ('license_key', models.CharField(blank=True, max_length=500)),
                ('license_type', models.CharField(choices=[('perpetual', 'Perpetual'), ('subscription', 'Subscription'), ('open_source', 'Open Source'), ('trial', 'Trial/Evaluation'), ('academic', 'Academic')], default='subscription', max_length=20)),
                ('version', models.CharField(blank=True, max_length=50)),
                ('max_users', models.PositiveIntegerField(blank=True, null=True)),
                ('current_users', models.PositiveIntegerField(default=0)),
                ('purchase_date', models.DateField()),
                ('expiration_date', models.DateField(blank=True, null=True)),
                ('renewal_date', models.DateField(blank=True, null=True)),
                ('cost', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('auto_renewal', models.BooleanField(default=False)),
                ('compliance_status', models.CharField(choices=[('compliant', 'Compliant'), ('non_compliant', 'Non-Compliant'), ('expired', 'Expired'), ('warning', 'Warning')], default='compliant', max_length=20)),
                ('notes', models.TextField(blank=True)),
            ],
            options={
                'verbose_name': 'Software License',
                'verbose_name_plural': 'Software Licenses',
                'db_table': 'assets_softwarelicense',
                'ordering': ['-expiration_date'],
            },
        ),
        migrations.CreateModel(
            name='Supplier',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('name', models.CharField(max_length=255, unique=True)),
                ('contact_person', models.CharField(blank=True, max_length=100)),
                ('email', models.EmailField(blank=True, max_length=254)),
                ('phone', models.CharField(blank=True, max_length=20)),
                ('address', models.TextField(blank=True)),
                ('website', models.URLField(blank=True)),
                ('is_active', models.BooleanField(default=True)),
                ('supplier_category', models.CharField(blank=True, help_text='Hardware, Software, Services, etc.', max_length=50)),
                ('notes', models.TextField(blank=True)),
            ],
            options={
                'verbose_name': 'Supplier',
                'verbose_name_plural': 'Suppliers',
                'db_table': 'assets_supplier',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='Task',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('title', models.CharField(max_length=200)),
                ('priority', models.CharField(blank=True, choices=[('critical', 'Critical'), ('high', 'High'), ('medium', 'Medium'), ('low', 'Low')], max_length=200, null=True)),
                ('description', models.TextField(blank=True)),
                ('task_status', models.CharField(choices=[('open', 'Open'), ('in_progress', 'In Progress'), ('completed', 'Completed'), ('cancelled', 'Cancelled'), ('hold', 'Hold'), ('draft', 'Draft'), ('breached', 'Breached')], default='open', max_length=20)),
                ('task_trackid', models.CharField(blank=True, max_length=255, null=True)),
                ('is_converted_to_ticket', models.BooleanField(default=False)),
                ('due_date', models.DateTimeField(blank=True, null=True)),
                ('completed_at', models.DateTimeField(blank=True, null=True)),
                ('is_sla_paused', models.BooleanField(default=False, help_text='Indicates if SLA calculation is currently paused for this task')),
                ('is_archived', models.BooleanField(default=False, help_text='Indicates if task is archived')),
                ('is_deleted', models.BooleanField(default=False, help_text='Indicates if task is soft deleted')),
            ],
            options={
                'verbose_name': 'Task',
                'verbose_name_plural': 'Tasks',
                'db_table': 'tasks',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='TaskActivity',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('activity_type', models.CharField(choices=[('created', 'Task Created'), ('updated', 'Task Updated'), ('commented', 'Comment Added'), ('assigned', 'Task Assigned'), ('reassigned', 'Task Reassigned'), ('status_changed', 'Status Changed'), ('priority_changed', 'Priority Changed'), ('attachment_added', 'Attachment Added'), ('attached_to_ticket', 'Attached to Ticket'), ('completed', 'Task Completed')], max_length=20)),
                ('description', models.TextField(blank=True)),
                ('timestamp', models.DateTimeField(auto_now_add=True)),
                ('old_value', models.CharField(blank=True, max_length=200)),
                ('new_value', models.CharField(blank=True, max_length=200)),
            ],
            options={
                'verbose_name': 'Task Activity',
                'verbose_name_plural': 'Task Activities',
                'db_table': 'task_activities',
                'ordering': ['-timestamp'],
            },
        ),
        migrations.CreateModel(
            name='TaskAttachment',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('file_url', models.URLField()),
                ('filename', models.CharField(blank=True, help_text='Original filename', max_length=255)),
                ('description', models.CharField(blank=True, max_length=500)),
            ],
            options={
                'verbose_name': 'Task Attachment',
                'verbose_name_plural': 'Task Attachments',
                'db_table': 'task_attachments',
                'ordering': ['-id'],
            },
        ),
        migrations.CreateModel(
            name='TaskComment',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('content', models.TextField()),
                ('is_internal', models.BooleanField(blank=True, default=False, help_text='Internal comments are only visible to staff', null=True)),
                ('flagged', models.BooleanField(default=False, help_text='Mark this comment as flagged')),
                ('likes_count', models.PositiveIntegerField(default=0, help_text='Number of likes for this comment')),
            ],
            options={
                'verbose_name': 'Task Comment',
                'verbose_name_plural': 'Task Comments',
                'db_table': 'task_comments',
                'ordering': ['created_at'],
            },
        ),
        migrations.CreateModel(
            name='TaskCommentLike',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Task Comment Like',
                'verbose_name_plural': 'Task Comment Likes',
                'db_table': 'task_comment_likes',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='TaskCommentReply',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('content', models.TextField()),
                ('is_internal', models.BooleanField(blank=True, default=False, help_text='Internal replies are only visible to staff', null=True)),
                ('likes_count', models.PositiveIntegerField(default=0, help_text='Number of likes for this reply')),
            ],
            options={
                'verbose_name': 'Task Comment Reply',
                'verbose_name_plural': 'Task Comment Replies',
                'db_table': 'task_comment_replies',
                'ordering': ['created_at'],
            },
        ),
        migrations.CreateModel(
            name='TaskConfig',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('id_format', models.CharField(default='TSK-{YYYY}-{####}', help_text='Task ID format (example: TSK-2025-0001)', max_length=100)),
            ],
            options={
                'verbose_name': 'Task Configuration',
                'verbose_name_plural': 'Task Configurations',
                'db_table': 'tenant_task_config',
            },
        ),
        migrations.CreateModel(
            name='TaskReplayAttachment',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('file_url', models.URLField()),
                ('filename', models.CharField(blank=True, help_text='Original filename', max_length=255)),
            ],
            options={
                'verbose_name': 'Task Replay Attachment',
                'verbose_name_plural': 'Task Replay Attachments',
                'db_table': 'task_comment_attachments',
                'ordering': ['-id'],
            },
        ),
        migrations.CreateModel(
            name='Ticket',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('title', models.CharField(max_length=200)),
                ('description', models.TextField(blank=True, null=True)),
                ('creator_name', models.CharField(blank=True, max_length=200, null=True)),
                ('creator_email', models.CharField(blank=True, max_length=200, null=True)),
                ('creator_phone', models.CharField(blank=True, max_length=200, null=True)),
                ('ticket_id', models.CharField(blank=True, max_length=255, null=True)),
                ('notes', models.TextField(blank=True, null=True)),
                ('status', models.CharField(choices=[('open', 'Open'), ('in_progress', 'In Progress'), ('pending', 'Pending'), ('on_hold', 'On Hold'), ('resolved', 'Resolved'), ('closed', 'Closed')], default='open', max_length=20)),
                ('priority', models.CharField(blank=True, choices=[('critical', 'Critical'), ('high', 'High'), ('medium', 'Medium'), ('low', 'Low')], default='medium', max_length=20, null=True)),
                ('customer_tier', models.CharField(choices=[('premium', 'Premium'), ('standard', 'Standard'), ('basic', 'Basic')], default='standard', help_text='Customer tier for SLA calculation', max_length=20)),
                ('source', models.CharField(choices=[('email', 'Email'), ('web', 'Web/Portal'), ('phone', 'Phone'), ('chat', 'Live Chat'), ('chatbot', 'AI Chatbot'), ('api', 'API/Integrations'), ('internal', 'Internal/Staff-created'), ('customer_portal', 'Customer Portal')], default='web', help_text='How the ticket was created', max_length=20)),
                ('due_date', models.DateTimeField(blank=True, null=True)),
                ('resolved_at', models.DateTimeField(blank=True, null=True)),
                ('first_response_at', models.DateTimeField(blank=True, null=True)),
                ('tags', models.CharField(blank=True, help_text='Comma-separated tags', max_length=200)),
                ('is_public', models.BooleanField(default=True)),
                ('is_sla_paused', models.BooleanField(default=False, help_text='Indicates if SLA calculation is currently paused for this ticket')),
                ('is_merged', models.BooleanField(default=False, help_text='Indicates if this ticket was merged into another ticket')),
                ('merged_at', models.DateTimeField(blank=True, help_text='When the ticket was merged', null=True)),
                ('merge_note', models.TextField(blank=True, help_text='Optional note about the merge', null=True)),
                ('is_archived', models.BooleanField(default=False, help_text='Indicates if ticket is archived')),
                ('is_deleted', models.BooleanField(default=False, help_text='Indicates if ticket is soft deleted')),
                ('is_opened', models.BooleanField(default=False, help_text='True once any agent has viewed this ticket')),
                ('has_new_reply', models.BooleanField(default=False, help_text='True when customer reply received; cleared on view')),
            ],
            options={
                'verbose_name': 'Ticket',
                'verbose_name_plural': 'Tickets',
                'db_table': 'tickets',
                'ordering': ['-id'],
            },
        ),
        migrations.CreateModel(
            name='TicketActivity',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('activity_type', models.CharField(choices=[('created', 'Ticket Created'), ('updated', 'Ticket Updated'), ('commented', 'Comment Added'), ('assigned', 'Ticket Assigned'), ('status_changed', 'Status Changed'), ('priority_changed', 'Priority Changed'), ('attachment_added', 'Attachment Added'), ('resolved', 'Ticket Resolved'), ('closed', 'Ticket Closed'), ('task_linked', 'Task Linked')], max_length=20)),
                ('description', models.TextField(blank=True)),
                ('timestamp', models.DateTimeField(auto_now_add=True)),
                ('old_value', models.CharField(blank=True, max_length=200)),
                ('new_value', models.CharField(blank=True, max_length=200)),
            ],
            options={
                'verbose_name': 'Ticket Activity',
                'verbose_name_plural': 'Ticket Activities',
                'db_table': 'ticket_activities',
                'ordering': ['-timestamp'],
            },
        ),
        migrations.CreateModel(
            name='TicketAttachment',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('file_url', models.URLField()),
                ('filename', models.CharField(blank=True, help_text='Original filename', max_length=255)),
                ('description', models.CharField(blank=True, max_length=500)),
            ],
            options={
                'verbose_name': 'Ticket Attachment',
                'verbose_name_plural': 'Ticket Attachments',
                'db_table': 'ticket_attachments',
                'ordering': ['-id'],
            },
        ),
        migrations.CreateModel(
            name='TicketCategories',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('name', models.CharField(max_length=50)),
                ('description', models.TextField()),
                ('is_active', models.BooleanField(default=True)),
            ],
            options={
                'verbose_name': 'Ticket Category',
                'verbose_name_plural': 'Ticket Categories',
                'db_table': 'ticket_categories',
                'ordering': ['-id'],
            },
        ),
        migrations.CreateModel(
            name='TicketComment',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('content', models.TextField()),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_internal', models.BooleanField(default=False, help_text='Internal comments are only visible to staff')),
                ('is_solution', models.BooleanField(default=False, help_text='Mark this comment as the solution')),
                ('flagged', models.BooleanField(default=False, help_text='Mark this comment as flagged')),
                ('likes_count', models.PositiveIntegerField(default=0, help_text='Number of likes for this comment')),
                ('email_to', models.JSONField(blank=True, help_text='List of TO recipients for email replies', null=True)),
                ('email_cc', models.JSONField(blank=True, help_text='List of CC recipients for email replies', null=True)),
                ('email_bcc', models.JSONField(blank=True, help_text='List of BCC recipients for email replies', null=True)),
            ],
            options={
                'verbose_name': 'Ticket Comment',
                'verbose_name_plural': 'Ticket Comments',
                'db_table': 'ticket_comments',
                'ordering': ['created_at'],
            },
        ),
        migrations.CreateModel(
            name='TicketConfig',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('id_format', models.CharField(default='ITK-{YYYY}-{####}', help_text='Ticket ID format (example: ITK-2025-0001)', max_length=100)),
            ],
            options={
                'verbose_name': 'Ticket Configuration',
                'verbose_name_plural': 'Ticket Configurations',
                'db_table': 'tenant_ticket_config',
            },
        ),
        migrations.CreateModel(
            name='TicketReopen',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('reason', models.TextField()),
            ],
            options={
                'verbose_name': 'Ticket Reopen',
                'verbose_name_plural': 'Ticket Reopens',
                'db_table': 'ticket_reopens',
            },
        ),
        migrations.CreateModel(
            name='TicketReplayAttachment',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('file_url', models.URLField()),
                ('filename', models.CharField(blank=True, help_text='Original filename', max_length=255)),
            ],
            options={
                'verbose_name': 'Ticket Replay Attachment',
                'verbose_name_plural': 'Ticket Replay Attachments',
                'db_table': 'ticket_comment_attachments',
                'ordering': ['-id'],
            },
        ),
        migrations.CreateModel(
            name='TicketWatchers',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Ticket Watchers',
                'verbose_name_plural': 'Ticket Watchers',
                'db_table': 'ticket_watchers',
            },
        ),
        migrations.CreateModel(
            name='UserNotificationPreference',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('delivery_channels', models.JSONField(blank=True, default=tenant.models.Notification.notification_channel_defaults)),
                ('notification_matrix', models.JSONField(blank=True, default=tenant.models.Notification.default_notification_matrix)),
                ('quiet_hours', models.JSONField(blank=True, default=tenant.models.Notification.default_quiet_hours)),
                ('mute_until', models.DateTimeField(blank=True, null=True)),
                ('browser_push_enabled', models.BooleanField(default=False)),
                ('email_digest_enabled', models.BooleanField(default=True)),
                ('digest_frequency', models.CharField(choices=[('daily', 'Daily'), ('weekly', 'Weekly'), ('off', 'Off')], default='daily', max_length=20)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'User Notification Preference',
                'db_table': 'notification_preferences',
            },
        ),
        migrations.CreateModel(
            name='Vendor',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('A', 'ACTIVE'), ('I', 'INACTIVE'), ('S', 'Suspended'), ('D', 'DEACTIVATED'), ('L', 'LOCKED'), ('B', 'BLOCKED')], default='A', max_length=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('date_updated', models.DateTimeField(auto_now=True)),
                ('name', models.CharField(max_length=255, unique=True)),
            ],
            options={
                'verbose_name': 'Asset Vendor',
                'verbose_name_plural': 'Asset Vendors',
                'db_table': 'asset_vendors',
                'ordering': ['name'],
            },
        ),
    ]
